trigger:
- none

pool: agent1_pool

variables:
  TOMCAT_HOME: /opt/tomcat
  WAR_NAME: JavaLoginShowcase.war

stages:
# =========================
# CI STAGE â€“ BUILD
# =========================
- stage: Build
  displayName: Build WAR
  jobs:
  - job: MavenBuild


    steps:
    - checkout: self

    - script: |
        java -version
        mvn -version
        cd JavaLoginPracticeApp
        mvn clean package -DskipTests
        displayName: Build WAR with Maven

    - script: |
        dir /s *.war
      displayName: Verify WAR exists

    - task: PublishBuildArtifacts@1
      displayName: Publish WAR Artifact
      inputs:
        PathtoPublish: '**/*.war'
        ArtifactName: drop
        